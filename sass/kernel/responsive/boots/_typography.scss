@import '../../../structure/typography';

$font-weight : '';

@function font-weight-connection($font-weight){
    @if $font-weight == 'bolds'{
        @return  bold;
    }
    @if $font-weight == 'blacks'{
        @return  800;
    }
    @if $font-weight == 'lights'{
        @return  300;
    }
    @if $font-weight == 'media'{
        @return  500;
    }
    @if $font-weight == 'regulars'{
        @return  400;
    }
    @if $font-weight == 'thins'{
        @return  100;
    }
}
@mixin font-face-style{
   
}
@mixin make-font-face{
    @each $font-name, $font-details in $fonts {
      $font-folder: map-get($font-details, "folder");
      @each $font-type, $font-files in map-get($font-details, "font-types") {
        $font-weight : font-weight-connection($font-type);
         @font-face {
            $file-src : '';
            font-family: map-get($font-details, "name");
            font-weight: $font-weight;
            @each $font-file in $font-files {
              $file-name: nth($font-file, 1);
              $file-format: str-slice($file-name, str-index($file-name, ".") + 1);
              $file-path: $font-folder + "/" + $file-name;
              $file-src :$file-src + #{url("#{$fonts-path + $file-path}") format('#{$file-format}')} + ', ';
            }
            src: unquote($file-src);
          }
      }
    }
}
@mixin make-font-classes{
    $fonts-primary : map-get($fonts, 'primary');
    $font-type : map-get($fonts-primary, 'font-types');
    $font-name : map-get($fonts-primary, 'name');
    
    @each $font-name, $font-file in $font-type{
        $font-weight : font-weight-connection($font-name);
        .#{$font-name}{
            font-family : $font-name;
            font-weight: $font-weight;
        }
    }
}
@include make-font-face;
@include make-font-classes;